<svg xmlns="http://www.w3.org/2000/svg" width="720" height="690" viewBox="-58 -27 720 690">
  <rect x="-58" y="-27" width="720" height="690" fill="#ffffff" />
  <g id="rect_23">
    <rect x="362.6" y="112" width="182" height="400" rx="8" fill="none" stroke="#999" stroke-width="1.5" stroke-dasharray="6 3" />
  </g>
  <g id="rect_22">
    <rect x="41.67" y="233.5" width="182" height="278.5" rx="8" fill="none" stroke="#999" stroke-width="1.5" stroke-dasharray="6 3" />
  </g>
  <g id="text_1">
  </g>
  <g id="rect_2">
    <rect x="378.6" y="30" width="150" height="32" rx="4" fill="#b2ebf2" stroke="#333" stroke-width="1.5" />
  </g>
  <g id="rect_3">
    <rect x="378.6" y="82" width="150" height="32" rx="4" fill="#c8e6c9" stroke="#333" stroke-width="1.5" />
  </g>
  <g id="rect_4">
    <rect x="378.6" y="148" width="150" height="30" rx="4" fill="#fffde7" stroke="#333" stroke-width="1.5" />
  </g>
  <g id="rect_5">
    <rect x="378.6" y="198" width="150" height="48" rx="4" fill="#e8eaf6" stroke="#333" stroke-width="1.5" />
  </g>
  <g id="rect_6">
    <rect x="378.6" y="269.5" width="150" height="30" rx="4" fill="#fffde7" stroke="#333" stroke-width="1.5" />
  </g>
  <g id="rect_7">
    <rect x="378.6" y="317.75" width="150" height="55" rx="4" fill="#fff3e0" stroke="#333" stroke-width="1.5" />
  </g>
  <g id="rect_8">
    <rect x="378.6" y="391" width="150" height="30" rx="4" fill="#fffde7" stroke="#333" stroke-width="1.5" />
  </g>
  <g id="rect_9">
    <rect x="378.6" y="441" width="150" height="55" rx="4" fill="#fff3e0" stroke="#333" stroke-width="1.5" />
  </g>
  <g id="rect_10">
    <rect x="57.67" y="269.5" width="150" height="30" rx="4" fill="#fffde7" stroke="#333" stroke-width="1.5" />
  </g>
  <g id="rect_11">
    <rect x="57.67" y="321.25" width="150" height="48" rx="4" fill="#e8eaf6" stroke="#333" stroke-width="1.5" />
  </g>
  <g id="rect_12">
    <rect x="57.67" y="391" width="150" height="30" rx="4" fill="#fffde7" stroke="#333" stroke-width="1.5" />
  </g>
  <g id="rect_13">
    <rect x="57.67" y="441" width="150" height="55" rx="4" fill="#fff3e0" stroke="#333" stroke-width="1.5" />
  </g>
  <g id="circle_14">
    <circle cx="132.67000000000002" cy="526" r="14" fill="#fff" stroke="#333" stroke-width="1.5" />
  </g>
  <g id="circle_15">
    <circle cx="453.6" cy="526" r="14" fill="#fff" stroke="#333" stroke-width="1.5" />
  </g>
  <g id="text_16">
  </g>
  <g id="text_17">
  </g>
  <g id="rect_18">
    <rect x="57.67" y="571" width="150" height="36" rx="4" fill="#fce4ec" stroke="#333" stroke-width="1.5" />
  </g>
  <g id="rect_19">
    <rect x="378.6" y="571" width="150" height="36" rx="4" fill="#fce4ec" stroke="#333" stroke-width="1.5" />
  </g>
  <g id="text_20">
  </g>
  <g id="text_21">
  </g>
  <g class="flowing-arrow">
    <line x1="132.67" y1="441" x2="132.67" y2="426.6" stroke="#333" stroke-width="1.5" />
    <polygon points="132.67,421 136.96,427.75 128.38,427.75" fill="#333" />
  </g>
  <g class="flowing-arrow">
    <line x1="132.67" y1="391" x2="132.67" y2="374.85" stroke="#333" stroke-width="1.5" />
    <polygon points="132.67,369.25 136.96,376 128.38,376" fill="#333" />
  </g>
  <g class="flowing-arrow">
    <line x1="132.67" y1="321.25" x2="132.67" y2="305.1" stroke="#333" stroke-width="1.5" />
    <polygon points="132.67,299.5 136.96,306.25 128.38,306.25" fill="#333" />
  </g>
  <g class="flowing-arrow">
    <line x1="453.6" y1="441" x2="453.6" y2="426.6" stroke="#333" stroke-width="1.5" />
    <polygon points="453.6,421 457.89,427.75 449.31,427.75" fill="#333" />
  </g>
  <g class="flowing-arrow">
    <line x1="453.6" y1="391" x2="453.6" y2="378.35" stroke="#333" stroke-width="1.5" />
    <polygon points="453.6,372.75 457.89,379.5 449.31,379.5" fill="#333" />
  </g>
  <g class="flowing-arrow">
    <line x1="453.6" y1="317.75" x2="453.6" y2="305.1" stroke="#333" stroke-width="1.5" />
    <polygon points="453.6,299.5 457.89,306.25 449.31,306.25" fill="#333" />
  </g>
  <g class="flowing-arrow">
    <line x1="453.6" y1="269.5" x2="453.6" y2="251.6" stroke="#333" stroke-width="1.5" />
    <polygon points="453.6,246 457.89,252.75 449.31,252.75" fill="#333" />
  </g>
  <g class="flowing-arrow">
    <line x1="453.6" y1="198" x2="453.6" y2="183.6" stroke="#333" stroke-width="1.5" />
    <polygon points="453.6,178 457.89,184.75 449.31,184.75" fill="#333" />
  </g>
  <g class="flowing-arrow">
    <line x1="453.6" y1="148" x2="453.6" y2="119.6" stroke="#333" stroke-width="1.5" />
    <polygon points="453.6,114 457.89,120.75 449.31,120.75" fill="#333" />
  </g>
  <g class="flowing-arrow">
    <line x1="453.6" y1="82" x2="453.6" y2="67.6" stroke="#333" stroke-width="1.5" />
    <polygon points="453.6,62 457.89,68.75 449.31,68.75" fill="#333" />
  </g>
  <g class="flowing-arrow">
    <path d="M 132.67 269.5 L 132.67 218.5 A 12 12 0 0 1 144.67 206.5 L 243.64 206.5 A 12 12 0 0 1 255.64 218.5 L 255.64 333.25 A 12 12 0 0 0 267.64 345.25 L 338.6 345.25 A 12 12 0 0 0 350.6 333.25 L 350.6 108 A 8 8 0 0 1 358.6 100 L 358.6 100 A 8 8 0 0 0 366.6 92 L 366.6 82 A 12 12 0 0 1 378.6 70 L 528.6 70 A 12 12 0 0 1 540.6 82 L 540.6 92 A 8 8 0 0 0 548.6 100 L 548.6 100 A 8 8 0 0 1 556.6 108 L 556.6 333.25 A 12 12 0 0 1 544.6 345.25 L 362.6 345.25 A 12 12 0 0 1 350.6 333.25 L 350.6 112 A 12 12 0 0 1 362.6 100 L 544.6 100 A 12 12 0 0 1 556.6 112 L 556.6 333.25 A 12 12 0 0 1 544.6 345.25 L 362.6 345.25 A 12 12 0 0 1 350.6 333.25 L 350.6 112 A 12 12 0 0 1 362.6 100 L 544.6 100 A 12 12 0 0 1 556.6 112 L 556.6 333.25 A 12 12 0 0 1 544.6 345.25 L 362.6 345.25 A 12 12 0 0 1 350.6 333.25 L 350.6 112 A 12 12 0 0 1 362.6 100 L 544.6 100 A 12 12 0 0 1 556.6 112 L 556.6 333.25 A 12 12 0 0 1 544.6 345.25 L 373 345.25" fill="none" stroke="#333" stroke-width="1.5" />
    <polygon points="378.6,345.25 371.85,349.54 371.85,340.96" fill="#333" />
  </g>
  <g class="flowing-arrow">
    <line x1="132.67" y1="571" x2="132.67" y2="545.6" stroke="#333" stroke-width="1.5" />
    <polygon points="132.67,540 136.96,546.75 128.38,546.75" fill="#333" />
  </g>
  <g class="flowing-arrow">
    <line x1="132.67" y1="512" x2="132.67" y2="501.6" stroke="#333" stroke-width="1.5" />
    <polygon points="132.67,496 136.96,502.75 128.38,502.75" fill="#333" />
  </g>
  <g class="flowing-arrow">
    <line x1="453.6" y1="571" x2="453.6" y2="545.6" stroke="#333" stroke-width="1.5" />
    <polygon points="453.6,540 457.89,546.75 449.31,546.75" fill="#333" />
  </g>
  <g class="flowing-arrow">
    <line x1="453.6" y1="512" x2="453.6" y2="501.6" stroke="#333" stroke-width="1.5" />
    <polygon points="453.6,496 457.89,502.75 449.31,502.75" fill="#333" />
  </g>
  <g class="flowing-arrow">
    <path d="M 57.67 468.5 L 39.67 468.5 A 10 10 0 0 1 29.67 458.5 L 29.67 231.5 A 10 10 0 0 1 39.67 221.5 L 225.67 221.5 A 10 10 0 0 1 235.67 231.5 L 235.67 458.5 A 10 10 0 0 1 225.67 468.5 L 39.67 468.5 A 10 10 0 0 1 29.67 458.5 L 29.67 231.5 A 10 10 0 0 1 39.67 221.5 L 225.67 221.5 A 10 10 0 0 1 235.67 231.5 L 235.67 458.5 A 10 10 0 0 1 225.67 468.5 L 39.67 468.5 A 10 10 0 0 1 29.67 458.5 L 29.67 231.5 A 10 10 0 0 1 39.67 221.5 L 225.67 221.5 A 10 10 0 0 1 235.67 231.5 L 235.67 458.5 A 10 10 0 0 1 225.67 468.5 L 39.67 468.5 A 10 10 0 0 1 29.67 458.5 L 29.67 231.5 A 10 10 0 0 1 39.67 221.5 L 225.67 221.5 A 10 10 0 0 1 235.67 231.5 L 235.67 458.5 A 10 10 0 0 1 225.67 468.5 L 39.67 468.5 A 10 10 0 0 1 29.67 458.5 L 29.67 231.5 A 10 10 0 0 1 39.67 221.5 L 225.67 221.5 A 10 10 0 0 1 235.67 231.5 L 235.67 458.5 A 10 10 0 0 1 225.67 468.5 L 32.67 468.5 A 10 10 0 0 1 22.67 458.5 L 22.67 416 A 10 10 0 0 1 32.67 406 L 52.07 406" fill="none" stroke="#333" stroke-width="1.5" />
    <polygon points="57.67,406 50.92,410.29 50.92,401.71" fill="#333" />
  </g>
  <g class="flowing-arrow">
    <path d="M 57.67 345.25 L 39.67 345.25 A 10 10 0 0 1 29.67 335.25 L 29.67 231.5 A 10 10 0 0 1 39.67 221.5 L 225.67 221.5 A 10 10 0 0 1 235.67 231.5 L 235.67 335.25 A 10 10 0 0 1 225.67 345.25 L 39.67 345.25 A 10 10 0 0 1 29.67 335.25 L 29.67 231.5 A 10 10 0 0 1 39.67 221.5 L 225.67 221.5 A 10 10 0 0 1 235.67 231.5 L 235.67 335.25 A 10 10 0 0 1 225.67 345.25 L 39.67 345.25 A 10 10 0 0 1 29.67 335.25 L 29.67 231.5 A 10 10 0 0 1 39.67 221.5 L 225.67 221.5 A 10 10 0 0 1 235.67 231.5 L 235.67 335.25 A 10 10 0 0 1 225.67 345.25 L 39.67 345.25 A 10 10 0 0 1 29.67 335.25 L 29.67 231.5 A 10 10 0 0 1 39.67 221.5 L 225.67 221.5 A 10 10 0 0 1 235.67 231.5 L 235.67 335.25 A 10 10 0 0 1 225.67 345.25 L 39.67 345.25 A 10 10 0 0 1 29.67 335.25 L 29.67 231.5 A 10 10 0 0 1 39.67 221.5 L 225.67 221.5 A 10 10 0 0 1 235.67 231.5 L 235.67 335.25 A 10 10 0 0 1 225.67 345.25 L 32.67 345.25 A 10 10 0 0 1 22.67 335.25 L 22.67 294.5 A 10 10 0 0 1 32.67 284.5 L 52.07 284.5" fill="none" stroke="#333" stroke-width="1.5" />
    <polygon points="57.67,284.5 50.92,288.79 50.92,280.21" fill="#333" />
  </g>
  <g class="flowing-arrow">
    <path d="M 528.6 468.5 L 360.6 468.5 A 10 10 0 0 1 350.6 458.5 L 350.6 110 A 10 10 0 0 1 360.6 100 L 546.6 100 A 10 10 0 0 1 556.6 110 L 556.6 458.5 A 10 10 0 0 1 546.6 468.5 L 360.6 468.5 A 10 10 0 0 1 350.6 458.5 L 350.6 110 A 10 10 0 0 1 360.6 100 L 546.6 100 A 10 10 0 0 1 556.6 110 L 556.6 458.5 A 10 10 0 0 1 546.6 468.5 L 360.6 468.5 A 10 10 0 0 1 350.6 458.5 L 350.6 110 A 10 10 0 0 1 360.6 100 L 546.6 100 A 10 10 0 0 1 556.6 110 L 556.6 458.5 A 10 10 0 0 1 546.6 468.5 L 360.6 468.5 A 10 10 0 0 1 350.6 458.5 L 350.6 110 A 10 10 0 0 1 360.6 100 L 546.6 100 A 10 10 0 0 1 556.6 110 L 556.6 458.5 A 10 10 0 0 1 546.6 468.5 L 360.6 468.5 A 10 10 0 0 1 350.6 458.5 L 350.6 110 A 10 10 0 0 1 360.6 100 L 546.6 100 A 10 10 0 0 1 556.6 110 L 556.6 465 A 3.5 3.5 0 0 0 560.1 468.5 L 560.1 468.5 A 3.5 3.5 0 0 0 563.6 465 L 563.6 416 A 10 10 0 0 0 553.6 406 L 534.2 406" fill="none" stroke="#333" stroke-width="1.5" />
    <polygon points="528.6,406 535.35,401.71 535.35,410.29" fill="#333" />
  </g>
  <g class="flowing-arrow">
    <path d="M 528.6 345.25 L 360.6 345.25 A 10 10 0 0 1 350.6 335.25 L 350.6 110 A 10 10 0 0 1 360.6 100 L 546.6 100 A 10 10 0 0 1 556.6 110 L 556.6 335.25 A 10 10 0 0 1 546.6 345.25 L 360.6 345.25 A 10 10 0 0 1 350.6 335.25 L 350.6 110 A 10 10 0 0 1 360.6 100 L 546.6 100 A 10 10 0 0 1 556.6 110 L 556.6 335.25 A 10 10 0 0 1 546.6 345.25 L 360.6 345.25 A 10 10 0 0 1 350.6 335.25 L 350.6 110 A 10 10 0 0 1 360.6 100 L 546.6 100 A 10 10 0 0 1 556.6 110 L 556.6 335.25 A 10 10 0 0 1 546.6 345.25 L 360.6 345.25 A 10 10 0 0 1 350.6 335.25 L 350.6 110 A 10 10 0 0 1 360.6 100 L 546.6 100 A 10 10 0 0 1 556.6 110 L 556.6 335.25 A 10 10 0 0 1 546.6 345.25 L 360.6 345.25 A 10 10 0 0 1 350.6 335.25 L 350.6 110 A 10 10 0 0 1 360.6 100 L 546.6 100 A 10 10 0 0 1 556.6 110 L 556.6 341.75 A 3.5 3.5 0 0 0 560.1 345.25 L 560.1 345.25 A 3.5 3.5 0 0 0 563.6 341.75 L 563.6 294.5 A 10 10 0 0 0 553.6 284.5 L 534.2 284.5" fill="none" stroke="#333" stroke-width="1.5" />
    <polygon points="528.6,284.5 535.35,280.21 535.35,288.79" fill="#333" />
  </g>
  <g class="flowing-arrow">
    <path d="M 528.6 222 L 360.6 222 A 10 10 0 0 0 350.6 232 L 350.6 514 A 10 10 0 0 0 360.6 524 L 546.6 524 A 10 10 0 0 0 556.6 514 L 556.6 232 A 10 10 0 0 0 546.6 222 L 360.6 222 A 10 10 0 0 0 350.6 232 L 350.6 514 A 10 10 0 0 0 360.6 524 L 546.6 524 A 10 10 0 0 0 556.6 514 L 556.6 232 A 10 10 0 0 0 546.6 222 L 360.6 222 A 10 10 0 0 0 350.6 232 L 350.6 514 A 10 10 0 0 0 360.6 524 L 546.6 524 A 10 10 0 0 0 556.6 514 L 556.6 232 A 10 10 0 0 0 546.6 222 L 360.6 222 A 10 10 0 0 0 350.6 232 L 350.6 514 A 10 10 0 0 0 360.6 524 L 546.6 524 A 10 10 0 0 0 556.6 514 L 556.6 232 A 10 10 0 0 0 546.6 222 L 360.6 222 A 10 10 0 0 0 350.6 232 L 350.6 514 A 10 10 0 0 0 360.6 524 L 546.6 524 A 10 10 0 0 0 556.6 514 L 556.6 225.5 A 3.5 3.5 0 0 1 560.1 222 L 560.1 222 A 3.5 3.5 0 0 0 563.6 218.5 L 563.6 173 A 10 10 0 0 0 553.6 163 L 534.2 163" fill="none" stroke="#333" stroke-width="1.5" />
    <polygon points="528.6,163 535.35,158.71 535.35,167.29" fill="#333" />
  </g>
  <text x="372.6" y="125" text-anchor="start" dominant-baseline="middle" font-family="Inter, system-ui, -apple-system, sans-serif" font-size="11" font-weight="normal" fill="#666">Decoder ×N</text>
  <text x="51.67" y="246.5" text-anchor="start" dominant-baseline="middle" font-family="Inter, system-ui, -apple-system, sans-serif" font-size="11" font-weight="normal" fill="#666">Encoder ×N</text>
  <text x="455" y="15" text-anchor="middle" dominant-baseline="middle" font-family="Inter, system-ui, -apple-system, sans-serif" font-size="11" font-weight="normal" fill="#555">Output Probabilities</text>
  <text x="453.6" y="46" text-anchor="middle" dominant-baseline="middle" font-family="Inter, system-ui, -apple-system, sans-serif" font-size="11" font-weight="normal" fill="#333">Softmax</text>
  <text x="453.6" y="98" text-anchor="middle" dominant-baseline="middle" font-family="Inter, system-ui, -apple-system, sans-serif" font-size="11" font-weight="normal" fill="#333">Linear</text>
  <text x="453.6" y="163" text-anchor="middle" dominant-baseline="middle" font-family="Inter, system-ui, -apple-system, sans-serif" font-size="10" font-weight="normal" fill="#333">Add &amp; Norm</text>
  <text x="453.6" y="222" text-anchor="middle" dominant-baseline="middle" font-family="Inter, system-ui, -apple-system, sans-serif" font-size="10" font-weight="normal" fill="#333">Feed Forward</text>
  <text x="453.6" y="284.5" text-anchor="middle" dominant-baseline="middle" font-family="Inter, system-ui, -apple-system, sans-serif" font-size="10" font-weight="normal" fill="#333">Add &amp; Norm</text>
  <text x="453.6" y="345.25" text-anchor="middle" dominant-baseline="middle" font-family="Inter, system-ui, -apple-system, sans-serif" font-size="10" font-weight="normal" fill="#333">Multi-Head Attention</text>
  <text x="453.6" y="406" text-anchor="middle" dominant-baseline="middle" font-family="Inter, system-ui, -apple-system, sans-serif" font-size="10" font-weight="normal" fill="#333">Add &amp; Norm</text>
  <text x="453.6" y="468.5" text-anchor="middle" dominant-baseline="middle" font-family="Inter, system-ui, -apple-system, sans-serif" font-size="10" font-weight="normal" fill="#333">Masked Multi-Head Attn</text>
  <text x="132.67000000000002" y="284.5" text-anchor="middle" dominant-baseline="middle" font-family="Inter, system-ui, -apple-system, sans-serif" font-size="10" font-weight="normal" fill="#333">Add &amp; Norm</text>
  <text x="132.67000000000002" y="345.25" text-anchor="middle" dominant-baseline="middle" font-family="Inter, system-ui, -apple-system, sans-serif" font-size="10" font-weight="normal" fill="#333">Feed Forward</text>
  <text x="132.67000000000002" y="406" text-anchor="middle" dominant-baseline="middle" font-family="Inter, system-ui, -apple-system, sans-serif" font-size="10" font-weight="normal" fill="#333">Add &amp; Norm</text>
  <text x="132.67000000000002" y="468.5" text-anchor="middle" dominant-baseline="middle" font-family="Inter, system-ui, -apple-system, sans-serif" font-size="10" font-weight="normal" fill="#333">Multi-Head Attention</text>
  <text x="132.67000000000002" y="526" text-anchor="middle" dominant-baseline="middle" font-family="Inter, system-ui, -apple-system, sans-serif" font-size="16" font-weight="normal" fill="#333">+</text>
  <text x="453.6" y="526" text-anchor="middle" dominant-baseline="middle" font-family="Inter, system-ui, -apple-system, sans-serif" font-size="16" font-weight="normal" fill="#333">+</text>
  <text x="32" y="540" text-anchor="middle" dominant-baseline="middle" font-family="Inter, system-ui, -apple-system, sans-serif" font-size="9" font-weight="normal" fill="#555">Pos Encoding →</text>
  <text x="572" y="540" text-anchor="middle" dominant-baseline="middle" font-family="Inter, system-ui, -apple-system, sans-serif" font-size="9" font-weight="normal" fill="#555">← Pos Encoding</text>
  <text x="132.67000000000002" y="589" text-anchor="middle" dominant-baseline="middle" font-family="Inter, system-ui, -apple-system, sans-serif" font-size="10" font-weight="normal" fill="#333">Input Embedding</text>
  <text x="453.6" y="589" text-anchor="middle" dominant-baseline="middle" font-family="Inter, system-ui, -apple-system, sans-serif" font-size="10" font-weight="normal" fill="#333">Output Embedding</text>
  <text x="135" y="621" text-anchor="middle" dominant-baseline="middle" font-family="Inter, system-ui, -apple-system, sans-serif" font-size="11" font-weight="normal" fill="#333">Inputs</text>
  <text x="455" y="621" text-anchor="middle" dominant-baseline="middle" font-family="Inter, system-ui, -apple-system, sans-serif" font-size="11" font-weight="normal" fill="#333">Outputs</text>
</svg>